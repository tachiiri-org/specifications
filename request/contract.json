{
  "scope": "Internet-facing API routing and request/response contracts (front_to_bff and/or external_gateway). Not used for internal adapter operation catalog.",
  "version": 1,
  "error_catalog_ref": {
    "shape_ref": "response/error.json",
    "layer_catalog_refs": {
      "front_to_bff": "request/front_to_bff/errors.json",
      "bff_to_internal_gateway": "request/bff_to_internal_gateway/errors.json",
      "internal_gateway_to_adapter": "request/internal_gateway_to_adapter/errors.json"
    }
  },
  "operations": {
    "list_google_drive_files": {
      "method": "GET",
      "path": "/v1/google-drive/files",
      "auth": {
        "required": true,
        "required_scopes": [
          "drive.read"
        ]
      },
      "request": {
        "query": {
          "parent_id": "string_optional",
          "page_size": "number_optional"
        }
      },
      "response": {
        "200": {
          "body": {
            "files": "array",
            "next_page_token": "string_optional"
          }
        }
      },
      "errors": [
        "unauthorized",
        "forbidden",
        "upstream_error"
      ]
    },
    "put_r2_object": {
      "method": "PUT",
      "path": "/v1/r2/object",
      "auth": {
        "required": true,
        "required_roles": [
          "admin"
        ]
      },
      "request": {
        "body": {
          "key": "string",
          "content_type": "string",
          "data": "base64"
        }
      },
      "response": {
        "200": {
          "body": {
            "etag": "string"
          }
        }
      },
      "errors": [
        "unauthorized",
        "forbidden",
        "conflict"
      ]
    }
  },
  "error_model": {
    "note": "Legacy/temporary mapping for documentation. Runtime status/code mapping must be sourced from the layer-specific error catalogs referenced in error_catalog_ref.",
    "unauthorized": {
      "status": 401,
      "code": "unauthorized"
    },
    "forbidden": {
      "status": 403,
      "code": "forbidden"
    },
    "upstream_error": {
      "status": 502,
      "code": "upstream_error"
    },
    "conflict": {
      "status": 409,
      "code": "conflict"
    }
  }
}