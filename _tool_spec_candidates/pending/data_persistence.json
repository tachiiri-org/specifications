  "data_persistence": {
    "db_principles": {
      "default": "database_per_service",
      "shared_db": "discouraged",
      "allowed_shared_db_use_cases": [
        "audit_log",
        "global_job_registry",
        "common_session_store_if_bff_introduced"
      ]
    },
    "cloudflare_d1": {
      "recommended_for": [
        "relational data",
        "search/list/joins",
        "configuration tables (tenants, entitlements)"
      ],
      "binding": "direct binding from owning service (preferred)"
    },
    "durable_objects_sqlite": {
      "recommended_for": [
        "per-tenant or per-user strongly consistent state",
        "locking/serialization needs",
        "workflow orchestration"
      ],
      "notes": "横断検索や集計が必要なデータには不向き"
    },
    "anti_patterns": [
      "domain data stored in a separate db-service accessed over HTTP as a shared database",
      "shared tables accessed by multiple services without ownership"
    ]
  },